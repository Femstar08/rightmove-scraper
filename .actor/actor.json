{
  "actorSpecification": 1,
  "name": "rightmove-scraper",
  "title": "UK Property Scraper - Multi-Site Support (Rightmove + More)",
  "description": "Advanced UK property scraper with multi-site architecture, 30+ property fields, distress detection, monitoring mode, delisting tracker, and cross-site deduplication. Currently supports Rightmove with Zoopla coming soon. Perfect for property investors and deal sourcers.",
  "version": "2.1",
  "buildTag": "latest",
  "dockerfile": "./Dockerfile",
  "defaultRunOptions": {
    "build": "latest",
    "timeoutSecs": 3600,
    "memoryMbytes": 4096
  },
  "input": {
    "title": "UK Property Scraper Input",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
      "site": {
        "title": "Property Site",
        "type": "string",
        "description": "Which property site to scrape",
        "enum": ["rightmove", "zoopla"],
        "enumTitles": ["Rightmove", "Zoopla"],
        "default": "rightmove",
        "editor": "select"
      },
      "startUrls": {
        "title": "Start URLs",
        "type": "array",
        "description": "One or more Rightmove search result URLs to scrape",
        "editor": "requestListSources",
        "prefill": [
          {
            "url": "https://www.rightmove.co.uk/property-for-sale/find.html?locationIdentifier=REGION%5E87490"
          }
        ]
      },
      "maxItems": {
        "title": "Maximum Items",
        "type": "integer",
        "description": "Maximum number of property listings to extract across all URLs and pages",
        "default": 200,
        "minimum": 1,
        "maximum": 10000
      },
      "maxPages": {
        "title": "Maximum Pages per URL",
        "type": "integer",
        "description": "Maximum number of search result pages to process per URL",
        "default": 5,
        "minimum": 1,
        "maximum": 100
      },
      "proxyConfiguration": {
        "title": "Proxy configuration",
        "type": "object",
        "description": "Proxy servers will be used to prevent detection and bypass restrictions",
        "editor": "proxy"
      },
      "distressKeywords": {
        "title": "Distress Keywords",
        "type": "array",
        "description": "Keywords to detect in property descriptions that indicate potential distressed sales, investment opportunities, or motivated sellers",
        "editor": "stringList",
        "default": [
          "price reduced",
          "reduced",
          "reduction",
          "chain free",
          "no chain",
          "auction",
          "motivated",
          "motivated seller",
          "cash buyers",
          "cash buyers only",
          "needs renovation",
          "in need of renovation",
          "modernisation required",
          "modernization required",
          "period features to restore",
          "investment opportunity",
          "development potential",
          "refurbishment",
          "modernisation",
          "quick sale",
          "quick sale required",
          "urgent sale",
          "must sell",
          "probate",
          "probate sale",
          "executor sale",
          "deceased estate",
          "repossession",
          "below market value",
          "bmv",
          "needs work",
          "fixer upper",
          "project",
          "potential",
          "opportunity",
          "investment",
          "development",
          "conversion",
          "planning permission",
          "vacant possession",
          "tenanted",
          "tenanted investment",
          "rental income",
          "yield",
          "vendor relocated",
          "no onward chain",
          "under offer",
          "back on market"
        ],
        "items": {
          "type": "string"
        }
      },
      "onlyDistressed": {
        "title": "Only Return Distressed Properties",
        "type": "boolean",
        "description": "If true, only returns properties that match at least one distress keyword. If false, returns all properties with distress scores.",
        "default": true
      },
      "propertyUrls": {
        "title": "Property URLs",
        "type": "array",
        "description": "Direct property page URLs to scrape (optional). Use this to scrape specific properties without searching.",
        "editor": "requestListSources",
        "prefill": []
      },
      "fullPropertyDetails": {
        "title": "Full Property Details",
        "type": "boolean",
        "description": "If true, visits each property detail page to extract comprehensive data (30+ fields). If false, only extracts data from search result cards.",
        "default": true
      },
      "monitoringMode": {
        "title": "Monitoring Mode",
        "type": "boolean",
        "description": "If true, only returns newly added properties compared to the previous run. Useful for daily monitoring.",
        "default": false
      },
      "enableDelistingTracker": {
        "title": "Enable Delisting Tracker",
        "type": "boolean",
        "description": "If true, tracks properties in a Key-Value store to identify when properties are removed from Rightmove.",
        "default": false
      },
      "addEmptyTrackerRecord": {
        "title": "Add Empty Tracker Record",
        "type": "boolean",
        "description": "If true, adds properties to the delisting tracker even if they don't exist yet. Used for initialization.",
        "default": false
      },
      "includePriceHistory": {
        "title": "Include Price History",
        "type": "boolean",
        "description": "If true, extracts price history from property detail pages. Note: This may slow down scraping significantly.",
        "default": false
      },
      "crossSiteDeduplication": {
        "title": "Cross-Site Deduplication",
        "type": "boolean",
        "description": "If true, identifies and merges duplicate properties that appear on multiple portals. Duplicates are detected by matching addresses.",
        "default": true
      },
      "siteConfig": {
        "title": "Site-Specific Configuration",
        "type": "object",
        "description": "Configure settings per property portal. Overrides global settings for specific sites.",
        "editor": "json",
        "prefill": {
          "rightmove": {
            "enabled": true,
            "maxPages": 5,
            "maxItems": 100
          },
          "zoopla": {
            "enabled": true,
            "maxPages": 5,
            "maxItems": 100
          }
        },
        "properties": {
          "rightmove": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Enable or disable Rightmove scraping"
              },
              "maxPages": {
                "type": "integer",
                "description": "Maximum pages to scrape for Rightmove"
              },
              "maxItems": {
                "type": "integer",
                "description": "Maximum items to extract from Rightmove"
              },
              "distressKeywords": {
                "type": "array",
                "description": "Rightmove-specific distress keywords (merged with global)",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "zoopla": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Enable or disable Zoopla scraping"
              },
              "maxPages": {
                "type": "integer",
                "description": "Maximum pages to scrape for Zoopla"
              },
              "maxItems": {
                "type": "integer",
                "description": "Maximum items to extract from Zoopla"
              },
              "distressKeywords": {
                "type": "array",
                "description": "Zoopla-specific distress keywords (merged with global)",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "required": ["startUrls"]
  }
}
